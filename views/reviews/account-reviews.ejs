<%- contentTitle %> 
<%- messages() %>

<div class="account-reviews-container">
  <h2>My Reviews</h2>
  
  <% if (reviews && reviews.length > 0) { %>
    <div class="reviews-list">
      <% reviews.forEach(review => { %>
        <div class="review-item">
          <div class="review-header">
            <h3>
              <a href="/inv/detail/<%= review.inv_id %>">
                <%= review.inv_year %> <%= review.inv_make %> <%= review.inv_model %>
              </a>
            </h3>
          </div>
          
          <div class="review-rating">
            <% for (let i = 1; i <= 5; i++) { %>
              <span class="star <%= i <= review.rating ? 'filled' : '' %>">â˜…</span>
            <% } %>
          </div>
          
          <div class="review-date">
            Submitted: <%= new Date(review.review_date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) %>
          </div>
          
          <div class="review-content">
            <%= review.review_text %>
          </div>
          
          <div class="review-actions">
            <a href="/reviews/edit/<%= review.review_id %>" class="button button-edit">Edit</a>
            <a href="/reviews/delete/<%= review.review_id %>" class="button button-delete" 
               onclick="return confirm('Are you sure you want to delete this review?')">Delete</a>
          </div>
        </div>
      <% }) %>
    </div>
  <% } else { %>
    <p class="no-reviews">You haven't submitted any reviews yet.</p>
  <% } %>
  
  <div class="back-to-account">
    <a href="/account/" class="button">Back to Account Management</a>
  </div>
</div>

<style>
  .review-item {
    margin-bottom: 1.5rem;
    padding: 1rem;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #f1f9f1;
    border-left: 4px solid #4caf50;
  }
  
  .review-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
  }
  
  .star {
    color: #ddd;
    font-size: 1.2rem;
  }
  
  .star.filled {
    color: #ffc107;
  }
  
  .review-actions {
    margin-top: 1rem;
    display: flex;
    gap: 0.5rem;
  }
  
  .button-edit {
    background-color: #2196F3;
  }
  
  .button-delete {
    background-color: #f44336;
  }
</style>
